:root{
  --bg:#f4f6f9;
  --card:#ffffff;
  --ink:#1f2937;
  --muted:#6b7280;
  --brand:#004aad;
  --accent:#2563eb;
  --ok:#22c55e;
  --warn:#f59e0b;
  --err:#ef4444;
  --stroke:#e5e7eb;
}
body.dark{
  --bg:#0f172a;
  --card:#0b1222;
  --ink:#e5e7eb;
  --muted:#94a3b8;
  --brand:#2f5bd6;
  --accent:#3b82f6;
  --ok:#22c55e;
  --warn:#fbbf24;
  --err:#f87171;
  --stroke:#1f2937;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--bg);
  color:var(--ink);
  font:15px/1.45 "Inter",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
}

/* Header */
.header{
  position:sticky; top:0; z-index:5;
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 16px; background:var(--brand); color:#fff;
  box-shadow:0 2px 6px rgba(0,0,0,.15);
}
.brand{display:flex; align-items:center; gap:10px; font-weight:700}
.brand-logo{height:28px; width:auto; object-fit:contain}
.header-right{display:flex; align-items:center; gap:10px}
.header .sep{opacity:.6}
.toggle{display:flex; align-items:center; gap:6px}

/* Layout */
.layout{display:grid; grid-template-columns:240px 1fr; min-height:calc(100vh - 56px)}
.sidebar{
  background:#111827; color:#cbd5e1; padding:12px 8px; position:sticky; top:56px; height:calc(100vh - 56px); overflow:auto;
}
.nav-btn{
  width:100%; text-align:left; border:0; background:transparent; color:#cbd5e1;
  padding:10px 12px; border-radius:8px; cursor:pointer; margin:4px 0; font-weight:600;
}
.nav-btn:hover{background:#1f2937}
.nav-btn.active{background:var(--accent); color:#fff}

.main{padding:16px 16px 64px}

/* Cards & grids */
.card{
  background:var(--card); border:1px solid var(--stroke); border-radius:12px;
  padding:16px; box-shadow:0 2px 8px rgba(0,0,0,.06); margin-bottom:16px;
}
.grid{display:grid; gap:16px}
.grid-2{grid-template-columns:repeat(2,minmax(0,1fr))}
.grid-4{grid-template-columns:repeat(4,minmax(0,1fr))}
.grid-5{grid-template-columns:repeat(5,minmax(0,1fr))}
.form-grid label{display:flex; flex-direction:column; gap:6px}
.form-grid .full{grid-column:1/-1}

/* Stats */
.stat{display:flex; flex-direction:column; gap:6px; align-items:flex-start}
.stat-label{color:var(--muted); font-weight:600}
.stat-value{font-size:32px; font-weight:800}

/* Form basics */
.form-row{display:flex; flex-wrap:wrap; gap:10px; align-items:flex-end}
input, select{
  background:var(--card); color:var(--ink);
  border:1px solid var(--stroke); border-radius:8px; padding:10px 12px; min-width:140px;
}
.btn{
  background:var(--accent); color:#fff; border:0; border-radius:8px; padding:10px 14px; cursor:pointer; font-weight:700;
}
.btn:hover{filter:brightness(.95)}
.btn.alt{background:#334155}
.btn.primary{background:var(--brand)}
.btn.file{position:relative; overflow:hidden; display:inline-flex; align-items:center; justify-content:center}
.btn.file input{position:absolute; inset:0; opacity:0; cursor:pointer}

/* Tables */
.table{width:100%; border-collapse:collapse}
.table th,.table td{border:1px solid var(--stroke); padding:8px}
.table tr:nth-child(even){background:rgba(0,0,0,.03)}

/* Goals bar line */
.goalline{margin:6px 0 12px}
.progress{height:10px; background:var(--stroke); border-radius:999px; overflow:hidden}
.progress > div{height:100%; width:0%; background:var(--ok); transition:width .5s}

/* Quiz */
.quiz-opts{display:flex; flex-direction:column; gap:8px; margin:10px 0}
.quiz-opts label{display:flex; gap:8px; align-items:center}
.bigline{font-size:18px; font-weight:700}
.small{font-size:12px}
.muted{color:var(--muted)}

/* Admin-only hidden by default */
.admin-only{display:none}

/* Toast */
.toast{
  position:fixed; bottom:20px; right:20px; background:var(--brand); color:#fff; padding:10px 14px; border-radius:8px;
  transform:translateY(16px); opacity:0; transition:all .25s; z-index:20;
}
.toast.show{transform:translateY(0); opacity:1}

/* Print Report */
#reportHeader{text-align:center; margin-bottom:16px}
#reportLogo{max-height:60px; margin-bottom:8px}
#reportGoals .goal-item{margin:10px 0}
.progressBar{width:100%; height:14px; background:var(--stroke); border-radius:7px; overflow:hidden}
.progressBar > div{height:100%; width:0%; background:var(--ok); transition:width .5s}
#reportSign{text-align:center; margin-top:28px}

/* Print styles: print only the printableReport */
@media print{
  body *{visibility:hidden !important}
  #printableReport, #printableReport *{visibility:visible !important}
  #printableReport{position:absolute; inset:0 0 auto 0; margin:0; padding:20px}
}

/* Responsive */
@media (max-width:1100px){
  .layout{grid-template-columns:200px 1fr}
  .grid-4{grid-template-columns:repeat(2,minmax(0,1fr))}
  .grid-5{grid-template-columns:repeat(3,minmax(0,1fr))}
}
@media (max-width:760px){
  .layout{grid-template-columns:1fr}
  .sidebar{position:static; height:auto}
  .grid-2,.grid-4,.grid-5{grid-template-columns:1fr}
}
